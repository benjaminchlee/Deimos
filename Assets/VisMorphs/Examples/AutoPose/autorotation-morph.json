
{
    "states": [
        {
            "name": "unrotated",
            "encoding": {
                "x": "*",
                "y": "*"
            }
        },
        {
            "name": "rotated",
            "encoding": {
                "x": "*",
                "y": "*"
            },
            "rotation": "lookAtRotation"
        }
    ],

    "signals": [{
            "name": "headPosition",
            "source": {
                "type": "head",
                "select": "transform.position"
            }
        }, {
            "name": "visPosition",
            "source": {
                "type": "vis",
                "select": "transform.position"
            }
        }, {
            "name": "isFarFromVis",
            "expression": "distance(headPosition, visPosition) > 4"
        }, {
            "name": "lookAtRotation",
            "expression": "lookrotation(headPosition - visPosition)"
        }
    ],

    "transitions": [
        {
            "name": "rotating",
            "states": ["unrotated", "rotated"],
            "triggers": ["isFarFromVis"],
            "timing": {
                "control": 0.5,
                "elapsed": "end"
            },
            "interrupt": {
                "control": "ignore"
            },
            "bidirectional": true
        }
    ]
}